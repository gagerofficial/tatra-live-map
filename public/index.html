<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROJECT GOB | Official Portal</title>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <style>
        :root {
            --accent: #a855f7;
            --accent-glow: rgba(168, 85, 247, 0.4);
            --bg-deep: #09090b;
            --bg-panel: #121216;
            --bg-card: #1c1c21;
            --text-main: #fafafa;
            --text-dim: #a1a1aa;
            --border: #27272a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; }
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--bg-deep); color: var(--text-main);
            line-height: 1.6; overflow-x: hidden;
        }

        /* --- NAVIGÁCIÓ --- */
        nav {
            height: 75px; background: rgba(9, 9, 11, 0.9); backdrop-filter: blur(15px);
            border-bottom: 1px solid var(--border);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 8%; position: sticky; top: 0; z-index: 1000;
        }
        .nav-logo { font-weight: 900; font-size: 24px; color: var(--accent); letter-spacing: 1px; cursor: pointer; }
        .nav-links { display: flex; gap: 25px; }
        .nav-links a { text-decoration: none; color: var(--text-dim); font-size: 14px; font-weight: 500; cursor: pointer; transition: 0.3s; }
        .nav-links a:hover { color: var(--accent); }

        /* --- SZEKCIÓK --- */
        section { padding: 60px 8%; display: none; min-height: 90vh; }
        section.active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- FŐOLDAL --- */
        .hero { padding: 60px 0; text-align: center; }
        .hero h1 { font-size: clamp(35px, 5vw, 65px); font-weight: 900; margin-bottom: 20px; }
        .hero span { color: var(--accent); }
        .btn-primary { background: var(--accent); color: white; padding: 14px 28px; border-radius: 8px; border: none; font-weight: 600; cursor: pointer; transition: 0.3s; font-family: inherit; }
        .btn-primary:hover { transform: scale(1.05); box-shadow: 0 0 20px var(--accent-glow); }

        /* --- RADAR --- */
        #radar-container { display: flex; gap: 20px; height: 600px; margin-top: 30px; }
        #map-area { flex: 3; background: #0c0c0e; border-radius: 16px; border: 1px solid var(--border); position: relative; overflow: hidden; }
        #telemetry { flex: 1; background: var(--bg-panel); border-radius: 16px; padding: 25px; border: 1px solid var(--border); }
        .tram-icon { position: absolute; width: 14px; height: 35px; background: var(--accent); border: 2px solid black; border-radius: 2px; cursor: pointer; z-index: 100; }

        /* --- FLEET --- */
        .fleet-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; margin-top: 40px; }
        .fleet-card { background: var(--bg-panel); border-radius: 16px; border: 1px solid var(--border); overflow: hidden; }
        .fleet-img { width: 100%; height: 180px; background: linear-gradient(45deg, #1a1a20, #252530); display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--accent); }

        /* --- TEAM --- */
        .team-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-top: 40px; }
        .team-card { background: var(--bg-panel); border-radius: 20px; border: 1px solid var(--border); padding: 40px 20px; text-align: center; border-top: 4px solid var(--accent); }

        .lang-btn { background: transparent; border: 1px solid var(--border); color: white; padding: 6px 12px; border-radius: 6px; cursor: pointer; margin-left: 15px; }
    </style>
</head>
<body>

<nav>
    <div class="nav-logo" onclick="showSection('home')">PROJECT GOB</div>
    <div class="nav-links">
        <a onclick="showSection('home')" data-hu="Főoldal" data-en="Home">Főoldal</a>
        <a onclick="showSection('radar')" data-hu="Élő Radar" data-en="Live Radar">Élő Radar</a>
        <a onclick="showSection('fleet')" data-hu="Járművek" data-en="Fleet">Járművek</a>
        <a onclick="showSection('team')" data-hu="Csapat" data-en="Team">Csapat</a>
    </div>
    <button class="lang-btn" onclick="toggleLanguage()">EN / HU</button>
</nav>

<section id="home" class="active">
    <div class="hero">
        <h1 data-hu="Irányítsd <span>Budapest</span> közlekedését" data-en="Control the transit of <span>Budapest</span>">Irányítsd <span>Budapest</span> közlekedését</h1>
        <p style="color: var(--text-dim); margin-bottom: 30px;" data-hu="A Project GOB a legmélyebb budapesti szimuláció." data-en="Project GOB is the deepest Budapest simulation.">A Project GOB a legmélyebb budapesti szimuláció.</p>
        <button class="btn-primary" onclick="showSection('radar')" data-hu="Radar megnyitása" data-en="Open Radar">Radar megnyitása</button>
    </div>
</section>

<section id="radar">
    <h1 data-hu="Élő <span>Hálózati</span> Radar" data-en="Live <span>Network</span> Radar">Élő <span>Hálózati</span> Radar</h1>
    <div id="radar-container">
        <div id="map-area">
            <div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); opacity:0.05; font-size:100px; font-weight:900;">GOB MAP</div>
        </div>
        <div id="telemetry">
            <h3 style="color:var(--accent); margin-bottom:15px;">TELEMETRY</h3>
            <div id="telemetry-content">Select a vehicle.</div>
        </div>
    </div>
</section>

<section id="fleet">
    <h1 data-hu="Jármű<span>park</span>" data-en="Vehicle <span>Fleet</span>">Jármű<span>park</span></h1>
    <div class="fleet-grid">
        <div class="fleet-card">
            <div class="fleet-img">TATRA T5C5</div>
            <div style="padding:20px;">
                <h3>Tatra T5C5</h3>
                <p style="color:var(--text-dim);">Budapest iconic tram.</p>
            </div>
        </div>
    </div>
</section>

<section id="team">
    <h1 data-hu="A <span>Csapat</span>" data-en="The <span>Team</span>">A <span>Csapat</span></h1>
    <div class="team-grid">
        <div class="team-card">
            <div style="width:80px; height:80px; background:var(--bg-card); border-radius:50%; margin:0 auto 20px; border:2px solid var(--accent);"></div>
            <h3>Developer Name</h3>
            <p style="color:var(--accent);">Lead Developer</p>
        </div>
    </div>
</section>

<script>
    const socket = io();
    const vehicles = {};
    let currentLang = 'hu';

    function toggleLanguage() {
        currentLang = currentLang === 'hu' ? 'en' : 'hu';
        document.querySelectorAll('[data-hu]').forEach(el => {
            el.innerHTML = el.getAttribute('data-' + currentLang);
        });
    }

    function showSection(id) {
        document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    socket.on('tramUpdate', (data) => {
        if (!vehicles[data.id]) {
            const el = document.createElement('div');
            el.className = 'tram-icon';
            el.onclick = () => {
                document.getElementById('telemetry-content').innerHTML = `
                    <p><b>Line:</b> ${data.line}</p>
                    <p><b>Driver:</b> ${data.driver}</p>
                    <p><b>Speed:</b> ${data.speed} km/h</p>
                `;
            };
            document.getElementById('map-area').appendChild(el);
            vehicles[data.id] = { el: el };
        }
        const v = vehicles[data.id];
        const scale = 0.08;
        v.el.style.left = (400 + data.x * scale) + 'px';
        v.el.style.top = (300 + data.z * scale) + 'px';
        v.el.style.transform = `translate(-50%, -50%) rotate(${data.heading}deg)`;
    });
</script>
</body>
</html>

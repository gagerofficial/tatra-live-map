<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>VillamosSim</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

<style>

body{
margin:0;
font-family:Inter;
background:#0b0e14;
color:white;
overflow:hidden;
}

nav{
display:flex;
gap:10px;
padding:15px;
backdrop-filter:blur(14px);
background:rgba(255,255,255,0.05);
border-bottom:1px solid rgba(255,255,255,0.1);
}

nav button{
background:none;
border:none;
color:white;
padding:10px 15px;
cursor:pointer;
border-radius:10px;
transition:.3s;
}

nav button:hover{
background:rgba(255,255,255,0.1);
}

.section{
display:none;
height:calc(100vh - 60px);
overflow:auto;
padding:25px;
}

.section.active{
display:block;
}

.card{
background:rgba(255,255,255,0.07);
backdrop-filter:blur(18px);
padding:20px;
border-radius:16px;
margin:10px 0;
}

.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
gap:15px;
}

input,select{
padding:10px;
border:none;
border-radius:10px;
margin:5px 0;
width:100%;
}

button.primary{
background:#3b82f6;
}

</style>
</head>

<body>

<nav>
<button onclick="openSection('home')">ğŸ  FÅ‘oldal</button>
<button onclick="openSection('downloads')">â¬‡ï¸ LetÃ¶ltÃ©sek</button>
<button onclick="openSection('vehicles')">ğŸš‹ JÃ¡rmÅ±vek</button>
<button onclick="openSection('leaderboard')">ğŸ† Leaderboard</button>
<button onclick="openSection('dispatcher')">ğŸ“¡ DiszpÃ©cser</button>
<button onclick="openSection('admin')">âš™ï¸ Admin</button>
<button onclick="robloxLogin()">ğŸ” Roblox Login</button>
</nav>

<!-- HOME -->
<div id="home" class="section active">
<h1>VillamosSim Dashboard</h1>
<div class="card">
<h3>ğŸš¦ Ã‰lÅ‘ szerver</h3>
<p id="serverStatus">BetÃ¶ltÃ©s...</p>
</div>
</div>

<!-- DOWNLOADS -->
<div id="downloads" class="section">
<h2>Mod feltÃ¶ltÃ©s</h2>
<div class="card">
<input placeholder="Mod neve">
<input type="file">
<button class="primary">FeltÃ¶ltÃ©s</button>
</div>
</div>

<!-- VEHICLES -->
<div id="vehicles" class="section">
<h2>JÃ¡rmÅ± adatbÃ¡zis</h2>
<div class="grid" id="vehicleList"></div>
</div>

<!-- LEADERBOARD -->
<div id="leaderboard" class="section">
<h2>Top VezetÅ‘k</h2>
<div id="leaderboardList"></div>
</div>

<!-- DISPATCHER -->
<div id="dispatcher" class="section">
<h2>RP DiszpÃ©cser</h2>
<div class="card">
<input placeholder="JÃ¡rat">
<select>
<option>KÃ©sÃ©s</option>
<option>Forgalom</option>
<option>MÅ±szaki hiba</option>
</select>
<button class="primary">KikÃ¼ldÃ©s</button>
</div>
</div>

<!-- ADMIN -->
<div id="admin" class="section">
<h2>Admin Panel</h2>
<div class="card">
<button class="primary">HÃ­r kÃ¼ldÃ©se Discordra</button>
<button class="primary">Banner frissÃ­tÃ©se</button>
</div>
</div>

<script>

function openSection(id){
document.querySelectorAll(".section")
.forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

function robloxLogin(){
window.location.href="/auth/roblox";
}

fetch("/api/server")
.then(r=>r.json())
.then(d=>{
document.getElementById("serverStatus")
.innerText=d.players+" jÃ¡tÃ©kos | "+d.map;
});

fetch("/api/vehicles")
.then(r=>r.json())
.then(list=>{
list.forEach(v=>{
vehicleList.innerHTML+=`
<div class="card">
<h3>${v.name}</h3>
</div>`;
});
});

fetch("/api/leaderboard")
.then(r=>r.json())
.then(list=>{
list.forEach(p=>{
leaderboardList.innerHTML+=
`<div class="card">${p.name} - ${p.km} km</div>`;
});
});

</script>

</body>
</html>

<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>PROJECT GOB | Operations</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
    --accent:#a855f7;
    --accent2:#22c55e;
    --danger:#ef4444;
    --bg:#09090b;
    --panel:#121216;
    --card:#1c1c21;
    --border:#27272a;
    --text:#fafafa;
    --dim:#a1a1aa;
}

*{margin:0;padding:0;box-sizing:border-box}
body{
    background:var(--bg);
    color:var(--text);
    font-family:Inter,system-ui;
}

/* NAV */
nav{
    height:70px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:0 8%;
    border-bottom:1px solid var(--border);
    background:rgba(9,9,11,.85);
    backdrop-filter:blur(12px);
}
nav b{color:var(--accent);font-size:22px;cursor:pointer}
nav a{color:var(--dim);margin-left:25px;cursor:pointer;text-decoration:none}
nav a:hover{color:var(--accent)}

/* SECTIONS */
section{display:none;padding:50px 8%;min-height:90vh}
section.active{display:block;animation:fade .4s}
@keyframes fade{from{opacity:0}to{opacity:1}}

/* HERO */
.hero{text-align:center;margin-top:60px}
.hero h1{font-size:60px;font-weight:900}
.hero span{color:var(--accent)}
.hero p{color:var(--dim);margin:25px 0}
.btn{
    background:var(--accent);
    border:none;
    padding:14px 30px;
    color:white;
    border-radius:8px;
    font-weight:600;
    cursor:pointer;
}
.btn:hover{box-shadow:0 0 25px rgba(168,85,247,.5)}

/* RADAR */
#radar-layout{
    display:flex;
    gap:20px;
    margin-top:30px;
    height:650px;
}
#map{
    flex:3;
    position:relative;
    background:#0c0c0e;
    border:1px solid var(--border);
    border-radius:16px;
    overflow:hidden;
}

/* GRID */
#map::before{
    content:"";
    position:absolute;
    inset:0;
    background:
        linear-gradient(rgba(255,255,255,.04) 1px,transparent 1px),
        linear-gradient(90deg,rgba(255,255,255,.04) 1px,transparent 1px);
    background-size:50px 50px;
    pointer-events:none;
}

/* SVG */
#network{
    position:absolute;
    inset:0;
}

/* VEHICLE */
.vehicle{
    position:absolute;
    width:14px;
    height:36px;
    border-radius:3px;
    border:2px solid black;
    z-index:10;
    cursor:pointer;
}

/* HEATMAP */
.heat{
    position:absolute;
    width:160px;
    height:160px;
    border-radius:50%;
    background:radial-gradient(circle,
        rgba(255,0,0,.45) 0%,
        rgba(255,0,0,.25) 35%,
        rgba(255,0,0,0) 70%);
    mix-blend-mode:screen;
    pointer-events:none;
}

/* PANELS */
.panel{
    flex:1;
    background:var(--panel);
    border:1px solid var(--border);
    border-radius:16px;
    padding:25px;
    display:flex;
    flex-direction:column;
    gap:20px;
}
.panel h3{color:var(--accent)}

/* AI */
.ai-box{
    background:var(--card);
    padding:15px;
    border-radius:12px;
    border:1px solid var(--border);
    font-size:14px;
    line-height:1.5;
}

/* FLEET / TEAM */
.grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
    gap:25px;
    margin-top:40px;
}
.card{
    background:var(--panel);
    border:1px solid var(--border);
    border-radius:16px;
    padding:25px;
}
</style>
</head>

<body>

<nav>
    <b onclick="show('home')">PROJECT GOB</b>
    <div>
        <a onclick="show('home')">Főoldal</a>
        <a onclick="show('radar')">Radar</a>
        <a onclick="show('fleet')">Járművek</a>
        <a onclick="show('team')">Csapat</a>
    </div>
</nav>

<section id="home" class="active">
    <div class="hero">
        <h1>Irányítsd <span>Budapestet</span></h1>
        <p>Valós idejű hálózatelemzés. Diszpécseri logika. Élő rendszer.</p>
        <button class="btn" onclick="show('radar')">Belépés az Operátor módba</button>
    </div>
</section>

<section id="radar">
<h1>Élő <span style="color:var(--accent)">Hálózati Radar</span></h1>

<div id="radar-layout">

<div id="map">

<svg id="network" viewBox="0 0 800 600">
    <polyline points="80,300 250,280 420,300 600,330 750,320"
        stroke="#a855f7" stroke-width="6" fill="none"/>
    <polyline points="400,80 410,250 400,420 390,560"
        stroke="#22c55e" stroke-width="6" fill="none"/>
</svg>

</div>

<div class="panel">
    <h3>TELEMETRY</h3>
    <div id="telemetry" class="ai-box">Select a vehicle</div>

    <h3>AI NETWORK ANALYSIS</h3>
    <div id="ai" class="ai-box">
        Initializing network intelligence…
    </div>
</div>

</div>
</section>

<section id="fleet">
<h1>Jármű<span style="color:var(--accent)">park</span></h1>
<div class="grid">
    <div class="card"><b>Tatra T5C5</b><p class="dim">Villamos</p></div>
    <div class="card"><b>CAF Urbos</b><p class="dim">Modern villamos</p></div>
</div>
</section>

<section id="team">
<h1>A <span style="color:var(--accent)">Csapat</span></h1>
<div class="grid">
    <div class="card"><b>Lead Developer</b><p>Systems & Simulation</p></div>
</div>
</section>

<script>
const sections=document.querySelectorAll('section');
function show(id){
    sections.forEach(s=>s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

/* FAKE NETWORK */
const map=document.getElementById('map');
const vehicles=[];
let heatCount=0;

function spawn(){
    const el=document.createElement('div');
    el.className='vehicle';
    map.appendChild(el);

    const v={
        el,
        x:Math.random()*800,
        y:Math.random()*600,
        speed:Math.random()*40,
        heading:Math.random()*360,
        line:Math.random()>0.5?'4-6':'1'
    };

    el.onclick=()=>{
        document.getElementById('telemetry').innerHTML=
        `<b>Line:</b> ${v.line}<br>
         <b>Speed:</b> ${v.speed.toFixed(1)} km/h<br>
         <b>Heading:</b> ${v.heading.toFixed(0)}°`;
    };

    vehicles.push(v);
}
for(let i=0;i<9;i++)spawn();

/* LOOP */
setInterval(()=>{
    heatCount=0;
    vehicles.forEach(v=>{
        if(Math.random()<0.04){
            v.speed=Math.random()*40;
            v.heading+=(Math.random()-0.5)*60;
        }

        v.x+=Math.cos(v.heading*Math.PI/180)*v.speed*0.08;
        v.y+=Math.sin(v.heading*Math.PI/180)*v.speed*0.08;

        v.el.style.left=v.x+'px';
        v.el.style.top=v.y+'px';
        v.el.style.transform=`rotate(${v.heading}deg)`;

        if(v.speed<5){
            v.el.style.background='var(--danger)';
            const h=document.createElement('div');
            h.className='heat';
            h.style.left=(v.x-80)+'px';
            h.style.top=(v.y-80)+'px';
            map.appendChild(h);
            setTimeout(()=>h.remove(),3500);
            heatCount++;
        }else if(v.speed<15){
            v.el.style.background='#facc15';
        }else{
            v.el.style.background='var(--accent2)';
        }
    });

    /* AI ANALYSIS */
    const ai=document.getElementById('ai');
    if(heatCount>4){
        ai.innerText="⚠️ Critical congestion detected. Recommend rerouting vehicles and increasing headway.";
    }else if(heatCount>1){
        ai.innerText="Moderate delays forming. Monitor line intersections.";
    }else{
        ai.innerText="Network stable. All lines operating within normal parameters.";
    }

},120);
</script>

</body>
</html>

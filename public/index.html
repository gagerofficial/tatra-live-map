<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROJECT GOB | Official Portal</title>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <style>
        :root {
            --accent: #a855f7;
            --accent-glow: rgba(168, 85, 247, 0.4);
            --bg-deep: #09090b;
            --bg-panel: #121216;
            --bg-card: #1c1c21;
            --text-main: #fafafa;
            --text-dim: #a1a1aa;
            --border: #27272a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; }
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--bg-deep); 
            color: var(--text-main);
            line-height: 1.6;
        }

        /* --- NAVIGÁCIÓ --- */
        nav {
            height: 75px; background: rgba(9, 9, 11, 0.9); backdrop-filter: blur(15px);
            border-bottom: 1px solid var(--border);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 8%; position: sticky; top: 0; z-index: 1000;
        }
        .nav-logo { font-weight: 900; font-size: 24px; color: var(--accent); letter-spacing: 1px; }
        .nav-links { display: flex; gap: 25px; }
        .nav-links a { text-decoration: none; color: var(--text-dim); font-size: 14px; font-weight: 500; cursor: pointer; transition: 0.3s; }
        .nav-links a:hover { color: var(--accent); }
        .status-badge { background: #10b98122; color: #10b981; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 600; border: 1px solid #10b98144; }

        /* --- SZEKCIÓK --- */
        section { padding: 100px 8%; display: none; min-height: 90vh; }
        section.active { display: block; animation: slideIn 0.4s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* --- FŐOLDAL --- */
        .hero { display: flex; align-items: center; justify-content: space-between; gap: 40px; margin-bottom: 80px; }
        .hero-text { flex: 1; }
        .hero-text h1 { font-size: clamp(40px, 5vw, 72px); line-height: 1.1; margin-bottom: 25px; }
        .hero-text span { color: var(--accent); }
        .btn-primary { background: var(--accent); color: white; padding: 14px 28px; border-radius: 8px; text-decoration: none; font-weight: 600; display: inline-block; transition: 0.3s; border: none; cursor: pointer; }
        .btn-primary:hover { background: var(--accent-hover); box-shadow: 0 0 20px var(--accent-glow); }

        .features { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-top: 50px; }
        .feature-card { background: var(--bg-panel); padding: 30px; border-radius: 16px; border: 1px solid var(--border); }
        .feature-card h3 { color: var(--accent); margin-bottom: 15px; }

        /* --- LIVE RADAR --- */
        #radar-container { display: flex; gap: 20px; height: 650px; }
        #map-area { flex: 3; background: #0c0c0e; border-radius: 16px; border: 1px solid var(--border); position: relative; overflow: hidden; }
        #telemetry { flex: 1; background: var(--bg-panel); border-radius: 16px; padding: 30px; border: 1px solid var(--border); }

        /* --- JÁRMŰPARK --- */
        .fleet-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; }
        .fleet-card { background: var(--bg-panel); border-radius: 16px; border: 1px solid var(--border); overflow: hidden; transition: 0.3s; }
        .fleet-card:hover { transform: translateY(-8px); border-color: var(--accent); }
        .fleet-img { width: 100%; height: 200px; background: #1a1a1f; display: flex; align-items: center; justify-content: center; color: #333; font-weight: bold; }
        .fleet-info { padding: 25px; }

        /* --- LÁBLÉC --- */
        footer { padding: 60px 8%; background: #050507; border-top: 1px solid var(--border); color: var(--text-dim); }
        .footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 40px; margin-bottom: 40px; }
        .footer-logo { color: var(--text-main); font-weight: 800; font-size: 20px; margin-bottom: 15px; }
        .footer-bottom { border-top: 1px solid #1a1a1f; padding-top: 30px; font-size: 13px; text-align: center; }

        /* --- NYELV VÁLASZTÓ --- */
        .lang-btn { background: transparent; border: 1px solid var(--border); color: var(--text-main); padding: 6px 12px; border-radius: 6px; cursor: pointer; margin-left: 20px; }

        .tram-icon { position: absolute; width: 15px; height: 40px; background: var(--accent); border: 2px solid black; border-radius: 2px; cursor: pointer; box-shadow: 0 0 15px var(--accent-glow); }
    </style>
</head>
<body>

<nav>
    <div class="nav-logo">PROJECT GOB</div>
    <div class="nav-links">
        <a onclick="showSection('home')" data-hu="Főoldal" data-en="Home">Főoldal</a>
        <a onclick="showSection('radar')" data-hu="Élő Radar" data-en="Live Radar">Élő Radar</a>
        <a onclick="showSection('fleet')" data-hu="Járművek" data-en="Fleet">Járművek</a>
        <a onclick="showSection('team')" data-hu="Csapat" data-en="Team">Csapat</a>
    </div>
    <div style="display: flex; align-items: center;">
        <span class="status-badge">ONLINE</span>
        <button class="lang-btn" onclick="toggleLanguage()">EN / HU</button>
    </div>
</nav>

<section id="home" class="active">
    <div class="hero">
        <div class="hero-text">
            <h1 data-hu="Irányítsd <span>Budapest</span> közlekedését" data-en="Control the transit of <span>Budapest</span>">Irányítsd <span>Budapest</span> közlekedését</h1>
            <p style="font-size: 20px; margin-bottom: 35px;" data-hu="A Project GOB a legmélyebb budapesti tömegközlekedési szimuláció Robloxon. Éld át a járművezetők és a diszpécserek mindennapjait egy élettel teli hálózatban." data-en="Project GOB is the deepest Budapest transit simulation on Roblox. Experience the daily life of drivers and dispatchers in a living network.">
                A Project GOB a legmélyebb budapesti tömegközlekedési szimuláció Robloxon.
            </p>
            <button class="btn-primary" onclick="showSection('radar')" data-hu="Radar megnyitása" data-en="Open Radar">Radar megnyitása</button>
        </div>
    </div>

    <div class="features">
        <div class="feature-card">
            <h3 data-hu="Élő Telemetria" data-en="Live Telemetry">Élő Telemetria</h3>
            <p data-hu="Kövesd nyomon minden egyes jármű helyzetét, sebességét és menetrendi pontosságát valós időben a webes felületünkön." data-en="Track every vehicle's position, speed, and schedule accuracy in real-time through our web interface.">Kövesd nyomon minden egyes jármű helyzetét valós időben.</p>
        </div>
        <div class="feature-card">
            <h3 data-hu="Reális Menetrend" data-en="Realistic Schedule">Reális Menetrend</h3>
            <p data-hu="A jutalmazási rendszerünk a pontosságon alapul. Ne siess, de ne is késs - a diszpécserek mindent látnak!" data-en="Our reward system is based on punctuality. Don't rush, don't be late - dispatchers see everything!">A jutalmazási rendszerünk a pontosságon alapul.</p>
        </div>
        <div class="feature-card">
            <h3 data-hu="Bővülő Hálózat" data-en="Expanding Network">Bővülő Hálózat</h3>
            <p data-hu="Folyamatosan bővülő vonalhálózat és járműpark várakozik rád, a klasszikus Tatráktól a modern autóbuszokig." data-en="A constantly expanding route network and fleet await you, from classic Tatras to modern buses.">Folyamatosan bővülő vonalhálózat és járműpark.</p>
        </div>
    </div>
</section>

<section id="radar">
    <div id="radar-container">
        <div id="map-area">
            <div style="position: absolute; color: #222; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 150px; font-weight: 900; pointer-events: none; opacity: 0.1;">GOB</div>
        </div>
        <div id="telemetry">
            <h2 style="color: var(--accent); margin-bottom: 20px;" data-hu="Adatlap" data-en="Data Sheet">Adatlap</h2>
            <div id="telemetry-content">
                <p style="color: var(--text-dim);" data-hu="Nincs kiválasztott jármű." data-en="No vehicle selected.">Nincs kiválasztott jármű.</p>
            </div>
        </div>
    </div>
</section>

<section id="fleet">
    <h1 style="margin-bottom: 50px;">Fleet <span style="color: var(--accent);">Inventory</span></h1>
    <div class="fleet-grid">
        <div class="fleet-card">
            <div class="fleet-img">TATRA T5C5</div>
            <div class="fleet-info">
                <h3>Tatra T5C5</h3>
                <p data-hu="Ikonikus budapesti villamos, modernizált hajtásrendszerrel." data-en="Iconic Budapest tram with modernized propulsion.">Ikonikus budapesti villamos.</p>
            </div>
        </div>
    </div>
</section>

<footer>
    <div class="footer-grid">
        <div>
            <div class="footer-logo">PROJECT GOB</div>
            <p data-hu="Budapest szimuláció a legmagasabb szinten." data-en="Budapest simulation at the highest level.">Budapest szimuláció a legmagasabb szinten.</p>
        </div>
        <div>
            <h4 style="color: white; margin-bottom: 20px;">Links</h4>
            <p><a onclick="showSection('home')" style="color: var(--text-dim); text-decoration: none; cursor: pointer;">Home</a></p>
            <p><a href="https://roblox.com" style="color: var(--text-dim); text-decoration: none;">Roblox Group</a></p>
        </div>
        <div>
            <h4 style="color: white; margin-bottom: 20px;">Status</h4>
            <p>Main Server: <span style="color: #10b981;">Operational</span></p>
            <p>Web API: <span style="color: #10b981;">Stable</span></p>
        </div>
    </div>
    <div class="footer-bottom">
        &copy; 2026 Project GOB Development Team. Not affiliated with BKK or BKV.
    </div>
</footer>

<script>
    const socket = io();
    const vehicles = {};
    let currentLang = 'hu';

    function toggleLanguage() {
        currentLang = currentLang === 'hu' ? 'en' : 'hu';
        document.querySelectorAll('[data-hu]').forEach(el => {
            el.innerText = el.getAttribute('data-' + currentLang);
            if(el.getAttribute('data-hu-span')) el.innerHTML = el.getAttribute('data-' + currentLang);
        });
    }

    function showSection(id) {
        document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        window.scrollTo(0,0);
    }

    socket.on('tramUpdate', (data) => {
        if (!vehicles[data.id]) {
            const el = document.createElement('div');
            el.className = 'tram-icon';
            el.onclick = () => updateStats(data.id);
            document.getElementById('map-area').appendChild(el);
            vehicles[data.id] = { el: el };
        }
        const v = vehicles[data.id];
        v.data = data;

        const scale = 0.08;
        const cX = window.innerWidth / 3;
        const cY = 300;

        v.el.style.left = (cX + data.x * scale) + 'px';
        v.el.style.top = (cY + data.z * scale) + 'px';
        v.el.style.transform = `translate(-50%, -50%) rotate(${data.heading}deg)`;
    });

    function updateStats(id) {
        const d = vehicles[id].data;
        document.getElementById('telemetry-content').innerHTML = `
            <div style="margin-bottom: 20px; border-left: 4px solid var(--accent); padding-left: 15px;">
                <p style="font-size: 12px; color: #888;">IDENTIFICATION</p>
                <p style="font-size: 22px; font-weight: bold;">LINE ${d.line}</p>
                <p style="color: var(--accent);">${d.driver}</p>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div>
                    <p style="font-size: 11px; color: #888;">SPEED</p>
                    <p style="font-weight: bold;">${d.speed} km/h</p>
                </div>
                <div>
                    <p style="font-size: 11px; color: #888;">STATUS</p>
                    <p style="color: ${d.delay > 30 ? '#ef4444' : '#10b981'}; font-weight: bold;">${d.delay > 30 ? 'DELAY' : 'ON TIME'}</p>
                </div>
            </div>
        `;
    }
</script>
</body>
</html>
